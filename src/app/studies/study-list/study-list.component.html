<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="#">Studies</a></li>
    <li class="breadcrumb-item active" aria-current="page">Study List</li>
  </ol>
</nav>

<div class="card">
  <h4 class="card-header">Study List</h4>
  <div class="card-body">
    <!-- <div class="table-responsive">
      <table class="table table-bordered mb-2">
        <thead>
          <tr>
            <th>Study Name</th>
            <th>Created On</th>
            <th>Status</th>
            <th>Recruitment Status</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Study demo name 1...</td>
            <td>08/02/2024</td>
            <td><span class="badge text-bg-info">On-going</span></td>
            <td>56 / 100</td>
            <td>
              <a
                routerLink="/study-overview"
                class="btn btn-outline-success px-3"
              >
                View details
              </a>
            </td>
          </tr>
          <tr>
            <td>Study demo name 2...</td>
            <td>25/11/2023</td>
            <td><span class="badge text-bg-success">Complete</span></td>
            <td>150 / 150</td>
            <td>
              <a
                routerLink="/study-overview"
                class="btn btn-outline-success px-3"
              >
                View details
              </a>
            </td>
          </tr>
        </tbody>
      </table>
    </div> -->
    <ngx-datatable
      class="bootstrap"
      #table
      [rows]="rows"
      [columnMode]="'force'"
      [headerHeight]="50"
      [externalPaging]="true"
      [footerHeight]="30"
      [rowHeight]="'auto'"
      [limit]="page.size"
      [count]="page.totalElements"
      [offset]="page.offset"
      (page)="setPage($event)"
    >
      <ngx-datatable-column
        prop="name"
        name="Study Name"
        [sortable]="true"
        [flexGrow]="1"
      >
        <ng-template let-row="row" ngx-datatable-cell-template>
          {{ row?.name }}
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column
        prop="startDate"
        name="Created On"
        [sortable]="true"
        [flexGrow]="1"
      >
        <ng-template let-row="row" ngx-datatable-cell-template>
          {{ row?.startDate | date : "medium" }}
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column
        prop="status"
        name="Status"
        [sortable]="true"
        [flexGrow]="1"
      >
        <ng-template let-row="row" ngx-datatable-cell-template>
          <span
            class="badge"
            [ngClass]="{
              'text-bg-info': row.status == 'ongoing',
              'text-bg-success': row.status == 'planned'
            }"
          >
            {{ row?.status }}
          </span>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column
        prop="plannedNumberOfParticipants"
        name="Recruitment Status"
        [sortable]="true"
        [flexGrow]="1"
      >
        <ng-template let-row="row" ngx-datatable-cell-template>
          {{ row?.plannedNumberOfParticipants }}
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column
        prop="id"
        name="Action"
        [sortable]="true"
        [flexGrow]="1"
      >
        <ng-template let-row="row" ngx-datatable-cell-template>
          <a
            [routerLink]="['/study-overview', row.id]"
            class="btn btn-outline-success px-3"
          >
            View details
          </a>
        </ng-template>
      </ngx-datatable-column>
    </ngx-datatable>
  </div>
</div>
